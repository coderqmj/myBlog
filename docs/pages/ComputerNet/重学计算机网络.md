### 一、代理CDN

#### 1.1代理服务器

- 普通情况下，向代理服务器发起请求再返回即可，只需设计两台机器
- 但是有些时候会由通过代理服务器去和真实服务器交流，就和租房子的中介一样，多了个中间人
- 代理服务器本身不产生内容，处于中间位置，去转发上下游的请求和响应
- 根据请求和响应，它既可以当成服务器也可以当成客户端
- 那为什么需要代理服务器呢？
  - 有的时候客户端是没有办法直接连上对应的服务器的，就比如Google，直接访问肯定不行，需要代理上可以访问Google的服务器

#### 1.2正向代理与反向代理

- 正向代理：代理的对象是客户端
- 反向代理：代理对象是服务器
- 正向代理的作用：
  - 隐藏客户端身份
  - 绕过防火墙
  - Internet访问控制：可以根据ip设置谁能上网谁不可以
  - 数据过滤：当请求的数据返回到代理服务器上，判定为不健康的数据，就可以不返回给客户端
- 反向代理的作用
  - 隐藏服务器身份
  - 安全防护
  - 负载均衡：多个客户端向一个负载均衡服务器请求，在由负载均衡服务器分发到不同的服务器集群进行请求，像淘宝秒杀活动就需要
    - 因为负载均衡服务器只是做一个转发，并没有做很多运算（查数据库之类），所以它不会像只有一台服务器一样消耗性能
- Fiddler、Charles抓包工具也是代理的原理，但Wireshark的原理是，底层驱动，拦截网卡上流过的数据